{"version":3,"sources":["node_modules/fetch-jsonp/build/fetch-jsonp.js","main.js"],"names":["textInput","document","querySelector","submitInput","results","link","addEventListener","getInfo","e","preventDefault","searchValue","value","toSearch","concat","jsonpCallbackFunction","then","res","json","data","displayInfo","catch","err","console","log","articleNames","articleLinks","innerHTML","i","length","articleName","articleURL","ankerTag","createElement","href","appendChild"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1HA;;;;AAEA;AACA,IAAIA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAhB;AACA,IAAIC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAlB;AACA,IAAIE,OAAO,GAAGH,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd,EAEA;;AACA,IAAIG,IAAI,GAAG,6FAAX;AAEAF,WAAW,CAACG,gBAAZ,CAA6B,OAA7B,EAAsCC,OAAtC;;AAEA,SAASA,OAAT,CAAiBC,CAAjB,EAAmB;AACjBA,EAAAA,CAAC,CAACC,cAAF,GADiB,CAEjB;;AACA,MAAIC,WAAW,GAAGV,SAAS,CAACW,KAA5B;AACA,MAAIC,QAAQ,aAAMP,IAAI,CAACQ,MAAL,CAAaH,WAAb,CAAN,CAAZ,CAJiB,CAMjB;;AACA,2BAAWE,QAAX,EAAqB;AACnBE,IAAAA,qBAAqB,EAAE;AADJ,GAArB,EAGGC,IAHH,CAGQ,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,GAHX,EAIGF,IAJH,CAIQ,UAAAG,IAAI;AAAA,WAAIC,WAAW,CAACD,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CAAf;AAAA,GAJZ,EAKGE,KALH,CAKS,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,GALZ;AAMD;;AAED,IAAIF,WAAW,GAAG,SAAdA,WAAc,CAACK,YAAD,EAAeC,YAAf,EAAgC;AAChDrB,EAAAA,OAAO,CAACsB,SAAR,GAAoB,EAApB;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGH,YAAY,CAACI,MAAhC,EAAwCD,CAAC,EAAzC,EAA4C;AAC1C,QAAIE,WAAW,GAAGL,YAAY,CAACG,CAAD,CAA9B;AACA,QAAIG,UAAU,GAAGL,YAAY,CAACE,CAAD,CAA7B,CAF0C,CAI1C;;AACA,QAAII,QAAQ,GAAG9B,QAAQ,CAAC+B,aAAT,CAAuB,GAAvB,CAAf;AACAD,IAAAA,QAAQ,CAACL,SAAT,aAAwBG,WAAxB;AACAE,IAAAA,QAAQ,CAACE,IAAT,GAAgBH,UAAhB;AAEA1B,IAAAA,OAAO,CAAC8B,WAAR,CAAoBH,QAApB;AACD;AACF,CAbD","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', 'module'], factory);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.fetchJsonp = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var defaultOptions = {\n    timeout: 5000,\n    jsonpCallback: 'callback',\n    jsonpCallbackFunction: null\n  };\n\n  function generateCallbackFunction() {\n    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n  }\n\n  function clearFunction(functionName) {\n    // IE8 throws an exception when you try to delete a property on window\n    // http://stackoverflow.com/a/1824228/751089\n    try {\n      delete window[functionName];\n    } catch (e) {\n      window[functionName] = undefined;\n    }\n  }\n\n  function removeScript(scriptId) {\n    var script = document.getElementById(scriptId);\n    if (script) {\n      document.getElementsByTagName('head')[0].removeChild(script);\n    }\n  }\n\n  function fetchJsonp(_url) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    // to avoid param reassign\n    var url = _url;\n    var timeout = options.timeout || defaultOptions.timeout;\n    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;\n\n    var timeoutId = undefined;\n\n    return new Promise(function (resolve, reject) {\n      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();\n      var scriptId = jsonpCallback + '_' + callbackFunction;\n\n      window[callbackFunction] = function (response) {\n        resolve({\n          ok: true,\n          // keep consistent with fetch API\n          json: function json() {\n            return Promise.resolve(response);\n          }\n        });\n\n        if (timeoutId) clearTimeout(timeoutId);\n\n        removeScript(scriptId);\n\n        clearFunction(callbackFunction);\n      };\n\n      // Check if the user set their own params, and if not add a ? to start a list of params\n      url += url.indexOf('?') === -1 ? '?' : '&';\n\n      var jsonpScript = document.createElement('script');\n      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);\n      if (options.charset) {\n        jsonpScript.setAttribute('charset', options.charset);\n      }\n      jsonpScript.id = scriptId;\n      document.getElementsByTagName('head')[0].appendChild(jsonpScript);\n\n      timeoutId = setTimeout(function () {\n        reject(new Error('JSONP request to ' + _url + ' timed out'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        window[callbackFunction] = function () {\n          clearFunction(callbackFunction);\n        };\n      }, timeout);\n\n      // Caught if got 404/500\n      jsonpScript.onerror = function () {\n        reject(new Error('JSONP request to ' + _url + ' failed'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        if (timeoutId) clearTimeout(timeoutId);\n      };\n    });\n  }\n\n  // export as global function\n  /*\n  let local;\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n  local.fetchJsonp = fetchJsonp;\n  */\n\n  module.exports = fetchJsonp;\n});","import fetchJsonp from 'fetch-jsonp';\r\n\r\n//DOM Data\r\nlet textInput = document.querySelector('.text-input');\r\nlet submitInput = document.querySelector('.submit-input');\r\nlet results = document.querySelector('.results');\r\n\r\n//JSON data\r\nlet link = 'https://es.wikipedia.org/w/api.php?Special:MyLanguage&action=opensearch&format:json&search='\r\n\r\nsubmitInput.addEventListener('click', getInfo);\r\n\r\nfunction getInfo(e){\r\n  e.preventDefault();\r\n  //Search link\r\n  let searchValue = textInput.value;\r\n  let toSearch = `${link.concat((searchValue))}`\r\n\r\n  //Search Data\r\n  fetchJsonp(toSearch, {\r\n    jsonpCallbackFunction: 'callback',\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => displayInfo(data[1], data[3]))\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nlet displayInfo = (articleNames, articleLinks) => {   \r\n  results.innerHTML = \"\"; \r\n  for(let i = 0; i < articleNames.length; i++){\r\n    let articleName = articleNames[i];\r\n    let articleURL = articleLinks[i];\r\n\r\n    //Create Anker Tag\r\n    let ankerTag = document.createElement(\"a\");\r\n    ankerTag.innerHTML = `${articleName} <br>`;\r\n    ankerTag.href = articleURL;\r\n\r\n    results.appendChild(ankerTag);\r\n  }\r\n}"]}